# Mailing Project

Из доп задач выполнены пункты: 12,5,3


## Getting started

Сборка проекта:
 - Проект работает через docker-compose
 - cd mailing-project
 - docker-compose build (дожидаемся build)
 - docker-compose up


## Работа с приложением

 - Сервер по умолчанию работает по адресу http://127.0.0.1:8800/
	Список апи:
		- http://127.0.0.1:8800/docs/ - Swagger UI 
		- http://127.0.0.1:8800/api/malling - Создание, редактирование, обновление и удаление рассылок
		- http://127.0.0.1:8800/api/client - Создание, редактирование, обновление и удаление клиентов
		- http://127.0.0.1:8800/api/stats - получение статистики по рассылкам

Работать с апи удобно через стандартный функционал DRF:
	Нужно зайти на интересуемую страницу и в нижней части имеется формы для отправки запросов

## Клиенты

 - GET
 	- Запрос всех клиентов
 - POST
 	- Добавление клиентов (работает добавление списка)
 		- Пример данных для запроса (список):
 				[
					{
						"id": 1,
						"mobile_number": 79066025875,
						"mobile_code": "+7",
						"tag": "1",
						"timezone": “GMT+3”
					},
					{
						"id": 2,
						"mobile_number": 79192582246,
						"mobile_code": "+7",
						"tag": "1",
						"timezone": “GMT+4”
					}
				]
		- Пример данных для запроса (одиночный):
 				[
					{
						"id": 1,
						"mobile_number": 79066025875,
						"mobile_code": "+7",
						"tag": "1",
						"timezone": “GMT+3”
					}
				]
		- Ответ 200 :
			- {
					"insert": "1 elements"
				}
		- Ответ 400 :
			- Пример {
						"insert": "0 elements"
					}
  - delete
 	- Удаление клиентов (работает добавление списка)
 		- Пример данных для запроса:
 				[
					{
						"id": 1
					}
				]
	- Ответ 200 :
			- {
					"delete_malling_id": "1 elements"
				}		
  - put
 	- Обновление клиентов (работает добавление списка)
 		- Пример данных для запроса (список):
 				[
					{
						"id": 1,
						"mobile_number": 79066025875,
						"mobile_code": "+7",
						"tag": "1",
						"timezone": “GMT+3”
					},
					{
						"id": 2,
						"mobile_number": 79192582246,
						"mobile_code": "+7",
						"tag": "1",
						"timezone": “GMT+4”
					}
				]
		- Пример данных для запроса (одиночный):
 				[
					{
						"id": 1,
						"mobile_number": 79066025875,
						"mobile_code": "+7",
						"tag": "1",
						"timezone": “GMT+3”
					}
				]
		- Ответ 200 :
			- {
					"update": "1 elements"
				}
		- Ответ 400 :
			- Пример {
						"update": "0 elements"
					}
## Рассылки
  - GET
 	- Запрос всех рассылок
 - POST
 	- Добавление рассылок (работает добавление списка)
 		- Пример данных для запроса (список):
 				[
					{
						"id": 1,
						"day_time_start": "2023-07-17 21:53:59+03:00",
						"message_text": "test message",
						"mobile_code": "+7",
						"tag": "1",
						"day_time_end": "2023-08-17 22:45:59+03:00"
					},
					{
						"id": 2,
						"day_time_start": "2023-07-17 21:53:59+03:00",
						"message_text": "test message",
						"mobile_code": "+7",
						"tag": "1",
						"day_time_end": "2023-08-17 22:45:59+03:00"
					}
				]
		- Пример данных для запроса (одиночный):
 				[
					{
						"id": 1,
						"day_time_start": "2023-07-17 21:53:59+03:00",
						"message_text": "test message",
						"mobile_code": "+7",
						"tag": "1",
						"day_time_end": "2023-08-17 22:45:59+03:00"
					}
				]
	- Ответ 200 :
			- {
					"insert": "1 elements"
				}
	- Ответ 400 :
		- Пример {
				"mobile_number": [
					"Обязательное поле."
				],
				"mobile_code": [
					"Обязательное поле."
				],
				"tag": [
					"Обязательное поле."
				]
			}
  - delete
 	- Удаление рассылок (работает добавление списка)
 		- Пример данных для запроса:
 				[
					{
						"id": 1
					}
				]
	- Ответ 200 :
			- {
					"delete_client_id": "1 elements"
				}
		
  - put
 	- Обновление рассылок (работает добавление списка)
 		- Пример данных для запроса (список):
 				[
					{
						"id": 1,
						"day_time_start": "2023-07-17 21:53:59+03:00",
						"message_text": "test message",
						"mobile_code": "+7",
						"tag": "1",
						"day_time_end": "2023-08-17 22:45:59+03:00"
					},
					{
						"id": 2,
						"day_time_start": "2023-07-17 21:53:59+03:00",
						"message_text": "test message",
						"mobile_code": "+7",
						"tag": "1",
						"day_time_end": "2023-08-17 22:45:59+03:00"
					}
				]
		- Пример данных для запроса (одиночный):
 				[
					{
						"id": 1,
						"day_time_start": "2023-07-17 21:53:59+03:00",
						"message_text": "test message",
						"mobile_code": "+7",
						"tag": "1",
						"day_time_end": "2023-08-17 22:45:59+03:00"
					}
				]
		- Ответ 200 :
			- {
					"update": "1 elements"
				}
		- Ответ 400 :
			- Пример {
					"mobile_number": [
						"Обязательное поле."
					],
					"mobile_code": [
						"Обязательное поле."
					],
					"tag": [
						"Обязательное поле."
					]
				}

## Статистика

  - GET
 	- Запрос общей статистики по созданным рассылкам и количеству отправленных сообщений по ним с группировкой по статусам
 	- Пример http://127.0.0.1:8800/api/stats
 
  - GET c параметром (получение статистики по конкретной рассылке)
	- Пример http://127.0.0.1:8800/api/stats?id=1



